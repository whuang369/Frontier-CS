S=#r
#a=#r a
#b=#r b
#c=#r c
r a=a r
r b=b r
r c=c r
r=e
a #=a p #
b #=b p #
c #=c p #
a p = p a
b p = p b
c p = p c
r e=(return)1
p #=(return)0
p a = a u
p b = b v
p c = c w
u = u A
v = v B
w = w C
A a = a A
A b = b A
A c = c A
A # = # A
B a = a B
B b = b B
B c = c B
B # = # B
C a = a C
C b = b C
C c = c C
C # = # C
A r a = t a r
B r b = t b r
C r c = t c r
t = g
A r b = r b
A r c = r c
B r a = r a
B r c = r c
C r a = r a
C r b = r b
# r = # g r
a r = r a
b r = r b
c r = r c
a g = g a
b g = g b
c g = g c
# g = g #
u g = p
v g = p
w g = p
g=
A g = g A
B g = g B
C g = g C